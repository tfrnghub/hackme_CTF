#!/usr/bin/env python2

import random
import string

def rot13(s):
    return s.translate(string.maketrans(string.uppercase + string.lowercase,
        string.uppercase[13:] + string.uppercase[:13] +
        string.lowercase[13:] + string.lowercase[:13]))

def base64(s):
    return ''.join(s.encode('base64').split())

def base64_decode(s):
    return s.decode('base64')

def hex(s):
    return s.encode('hex')
    
def hex_decode(s):
    return s.decode('hex')    

def upsidedown(s):
    return s.translate(string.maketrans(string.uppercase + string.lowercase,
        string.lowercase + string.uppercase))

E = (rot13, base64, hex, upsidedown)
D = (rot13, base64_decode, hex_decode, upsidedown)


flag=open('flag.enc', 'r').read()
while True:
    flag = D[int(flag[0])](flag[1:])
    if flag[:4]=='FLAG':
        break
print(flag)



